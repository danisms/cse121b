<!-- operators.html -->
<html>
  <head>
    <title>Operator Activities</title>
    <script src="operators.js"></script>
  </head>
  <body></body>
  <script>
    // operators.js
    let shipHealth = 3;
    let shipAmmo = 3;
    let targetHealth = 3;

    function fireShip() {
    if (shipCanFire()) {
        shipAmmo--;
        if (isHit()) {
        targetHealth--;
        console.log("hit - targetHealth:", targetHealth);
        } else {
        console.log("miss");
        }
    } else {
        reloadShip();
        console.log("reloading, shipHealth:", shipHealth);
    }
    }

    function encounter() {
        console.log("You see a target");
        if (!isDestroyed(targetHealth) && !isDestroyed(shipHealth)) {
            fireShip();
            if (isDestroyed(targetHealth)) {
            console.log("Target eliminated");
            }
            if (isDestroyed(shipHealth)) {
            console.log("ship destroyed");
            }
        }
    }
    // MISSING FUNCTIONS
    function isHit() {
        const generate_num = Math.random()
        if (generate_num > .5) {
            return true
        }else  {
            return false
        }
    }

    function shipCanFire() {
        if (shipHealth > 0 && shipAmmo > 0) {
            return true
        }else {
            return false
        }
    }

    function reloadShip() {
        shipHealth -= 1
        shipAmmo += 3
    }

    function isDestroyed(health) {
        if (health <= 0) {
            return true
        }
    }
  </script>
</html>